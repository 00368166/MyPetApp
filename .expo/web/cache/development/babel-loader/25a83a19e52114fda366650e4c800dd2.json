{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport { Avatar } from 'react-native-elements';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { supabase } from \"../../lib/initSupabase\";\nimport { FancyAlert } from 'react-native-expo-fancy-alerts';\nimport { Layout, Text, TextInput, Button, useTheme, themeColor } from \"react-native-rapi-ui\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Ionicons } from '@expo/vector-icons';\nimport * as SecureStore from 'expo-secure-store';\nimport * as LocalAuthentication from 'expo-local-authentication';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function (_ref) {\n  var navigation = _ref.navigation;\n\n  var _useTheme = useTheme(),\n      isDarkmode = _useTheme.isDarkmode,\n      setTheme = _useTheme.setTheme;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password_temp = _useState4[0],\n      setPasswordtemp = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error_msg = _useState10[0],\n      setError = _useState10[1];\n\n  var _useState11 = useState(\"flex\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      email_visible = _useState12[0],\n      setEmailVisible = _useState12[1];\n\n  var _useState13 = useState(\"none\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      sesionPreviaVisible = _useState14[0],\n      setSesionPrevVisible = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      sesionPrevia = _useState16[0],\n      setSesionPrevia = _useState16[1];\n\n  var _useState17 = useState('securityemail'),\n      _useState18 = _slicedToArray(_useState17, 2),\n      secureemail = _useState18[0],\n      setsecureemail = _useState18[1];\n\n  var _useState19 = useState('securityPassword'),\n      _useState20 = _slicedToArray(_useState19, 2),\n      securePassword = _useState20[0],\n      setSecurePassword = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      securityEmail = _useState22[0],\n      setSecurityemail = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      securityPassword = _useState24[0],\n      setSecurityPassword = _useState24[1];\n\n  var _useState25 = useState(''),\n      _useState26 = _slicedToArray(_useState25, 2),\n      resultado = _useState26[0],\n      setResultado = _useState26[1];\n\n  var _useState27 = useState('none'),\n      _useState28 = _slicedToArray(_useState27, 2),\n      fingerprintVisible = _useState28[0],\n      setVisibleFingerprint = _useState28[1];\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      flagfinger = _useState30[0],\n      setflag = _useState30[1];\n\n  var toggleAlert = React.useCallback(function () {\n    setVisible(!visible);\n  }, [visible]);\n  useEffect(function () {\n    check();\n  }, []);\n\n  function check() {\n    var result;\n    return _regeneratorRuntime.async(function check$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            result = getValueFor(secureemail);\n\n            if (result) {\n              result.then(function (espera) {\n                setSecurityemail(espera);\n                console.log('encontrado email' + securityEmail);\n                var pass = getValueFor(securePassword);\n\n                if (pass) {\n                  pass.then(function (espera_2) {\n                    setSecurityPassword(espera_2);\n                    console.log('encontrado contrase√±a' + securityPassword);\n                    setEmail(espera);\n                    setPasswordtemp(espera_2);\n\n                    if (espera != null || espera_2 != null) {\n                      change_views();\n                      check_fingerprint();\n                    }\n                  });\n                }\n              });\n            }\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function cambio() {\n    setPassword(password_temp);\n    console.log(email + ' ' + password);\n  }\n\n  var emial_change = React.useCallback(function () {\n    if (email_visible == 'flex') {\n      setEmailVisible(\"none\");\n    } else {\n      setEmailVisible(\"flex\");\n    }\n  }, [email_visible]);\n  var sesion_change = React.useCallback(function () {\n    if (sesionPreviaVisible == 'flex') {\n      setSesionPrevVisible(\"none\");\n    } else {\n      setSesionPrevVisible(\"flex\");\n    }\n  }, [sesionPreviaVisible]);\n  var fingerprintchange = React.useCallback(function () {\n    if (fingerprintVisible == 'flex') {\n      setVisibleFingerprint(\"none\");\n    } else {\n      setVisibleFingerprint(\"flex\");\n    }\n  }, [fingerprintVisible]);\n\n  var change_views = function change_views() {\n    return _regeneratorRuntime.async(function change_views$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            sesion_change();\n            emial_change();\n            console.log(\"invertir\");\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function save(secure_key, secure_string) {\n    return _regeneratorRuntime.async(function save$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(SecureStore.setItemAsync(secure_key, secure_string));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function getValueFor(secure_key) {\n    var result;\n    return _regeneratorRuntime.async(function getValueFor$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            console.log('check getValue');\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync(secure_key));\n\n          case 3:\n            result = _context4.sent;\n            return _context4.abrupt(\"return\", result);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function delete_securitykey(secure_key) {\n    return _regeneratorRuntime.async(function delete_securitykey$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(SecureStore.deleteItemAsync(secure_key));\n\n          case 2:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function check_fingerprint() {\n    var result = LocalAuthentication.hasHardwareAsync();\n\n    if (result) {\n      result.then(function (espera) {\n        setVisibleFingerprint(\"flex\");\n      });\n    }\n  }\n\n  function loginAlternativo() {\n    var _await$supabase$auth$, user, error, result_2, result_3;\n\n    return _regeneratorRuntime.async(function loginAlternativo$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            console.log('aqui va el alert');\n            setLoading(true);\n            _context6.next = 4;\n            return _regeneratorRuntime.awrap(supabase.auth.signIn({\n              email: email,\n              password: password_temp\n            }));\n\n          case 4:\n            _await$supabase$auth$ = _context6.sent;\n            user = _await$supabase$auth$.user;\n            error = _await$supabase$auth$.error;\n\n            if (!error && !user) {\n              setLoading(false);\n              setError(\"Se ah enviado tu correo para revision\");\n              toggleAlert();\n            }\n\n            if (error) {\n              setLoading(false);\n              setError(error.message);\n              toggleAlert();\n            }\n\n            setError(user.message);\n            toggleAlert();\n\n            if (user) {\n              result_2 = save(secureemail, email);\n\n              if (result_2) {\n                console.log('save email ' + securityEmail);\n              }\n\n              ;\n              result_3 = save(securePassword, password_temp);\n\n              if (result_3) {\n                console.log('save password ' + securityPassword);\n              }\n\n              ;\n              console.log('logeado');\n            }\n\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function login() {\n    var _await$supabase$auth$2, user, error, result_2, result_3;\n\n    return _regeneratorRuntime.async(function login$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            console.log('aqui va el alert');\n            setLoading(true);\n            _context7.next = 4;\n            return _regeneratorRuntime.awrap(supabase.auth.signIn({\n              email: email,\n              password: password\n            }));\n\n          case 4:\n            _await$supabase$auth$2 = _context7.sent;\n            user = _await$supabase$auth$2.user;\n            error = _await$supabase$auth$2.error;\n\n            if (!error && !user) {\n              setLoading(false);\n              setError(\"Se ah enviado tu correo para revision\");\n              toggleAlert();\n            }\n\n            if (error) {\n              setLoading(false);\n              setError(error.message);\n              toggleAlert();\n            }\n\n            setError(user.message);\n            toggleAlert();\n\n            if (user) {\n              result_2 = save(secureemail, email);\n\n              if (result_2) {\n                console.log('save email ' + securityEmail);\n              }\n\n              ;\n              result_3 = save(securePassword, password);\n\n              if (result_3) {\n                console.log('save password ' + securityPassword);\n              }\n\n              ;\n              console.log('logeado');\n            }\n\n          case 12:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return _jsx(KeyboardAvoidingView, {\n    behavior: \"height\",\n    enabled: true,\n    style: {\n      flex: 1\n    },\n    children: _jsxs(Layout, {\n      children: [_jsx(FancyAlert, {\n        visible: visible,\n        style: styles.alert,\n        icon: _jsx(View, {\n          style: [styles.icon, {\n            borderRadius: 32\n          }],\n          children: _jsx(Ionicons, {\n            name: Platform.select({\n              ios: 'ios-close',\n              android: 'md-close'\n            }),\n            size: 36,\n            color: \"#FFFFFF\"\n          })\n        }),\n        children: _jsxs(View, {\n          style: styles.content,\n          children: [_jsx(Text, {\n            style: styles.contentText,\n            children: error_msg\n          }), _jsx(TouchableOpacity, {\n            style: styles.btn,\n            onPress: toggleAlert,\n            children: _jsx(Text, {\n              style: styles.btnText,\n              children: \"OK\"\n            })\n          })]\n        })\n      }), _jsxs(ScrollView, {\n        contentContainerStyle: {\n          flexGrow: 1\n        },\n        children: [_jsx(View, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            backgroundColor: isDarkmode ? \"#17171E\" : themeColor.white100\n          },\n          children: _jsx(Image, {\n            style: {\n              height: 200,\n              width: 400\n            },\n            source: require(\"../../../assets/images/login.jpg\")\n          })\n        }), _jsxs(View, {\n          style: {\n            flex: 3,\n            paddingHorizontal: 20,\n            paddingBottom: 20,\n            backgroundColor: isDarkmode ? themeColor.dark : themeColor.white\n          },\n          children: [_jsxs(View, {\n            style: {\n              display: email_visible\n            },\n            children: [_jsx(Text, {\n              fontWeight: \"bold\",\n              style: {\n                alignSelf: \"center\",\n                padding: 30\n              },\n              size: \"h1\",\n              children: \"\\xA1Hola!\"\n            }), _jsx(Text, {\n              fontWeight: \"bold\",\n              style: {\n                alignSelf: \"center\",\n                padding: 30\n              },\n              size: \"h4\",\n              children: \"Bienvenido a MyPet\"\n            }), _jsx(Text, {\n              children: \"Email\"\n            }), _jsx(TextInput, {\n              containerStyle: {\n                marginTop: 15\n              },\n              placeholder: \"ejemplo@correo.com\",\n              value: email,\n              autoCapitalize: \"none\",\n              autoCompleteType: \"off\",\n              autoCorrect: false,\n              keyboardType: \"email-address\",\n              onChangeText: function onChangeText(text) {\n                return setEmail(text);\n              }\n            }), _jsx(Text, {\n              style: {\n                marginTop: 15\n              },\n              children: \"Password\"\n            }), _jsx(TextInput, {\n              containerStyle: {\n                marginTop: 15\n              },\n              placeholder: \"Ingresa tu contrase\\xF1a\",\n              value: password,\n              autoCapitalize: \"none\",\n              autoCompleteType: \"off\",\n              autoCorrect: false,\n              secureTextEntry: true,\n              onChangeText: function onChangeText(text) {\n                return setPassword(text);\n              }\n            }), _jsx(Button, {\n              text: loading ? \"Cargando\" : \"Iniciar sesi√≥n\",\n              onPress: function onPress() {\n                login();\n              },\n              style: {\n                marginTop: 20,\n                height: 50,\n                margin: \"30%\"\n              },\n              status: \"info\",\n              disabled: loading\n            }), _jsxs(View, {\n              style: {\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: -30,\n                justifyContent: \"center\"\n              },\n              children: [_jsx(Text, {\n                size: \"md\",\n                children: \"\\xBFNo tienes cuenta?\"\n              }), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate(\"Register\");\n                },\n                children: _jsx(Text, {\n                  size: \"md\",\n                  fontWeight: \"bold\",\n                  style: {\n                    marginLeft: 5\n                  },\n                  children: \"Registrate aqu\\xED\"\n                })\n              })]\n            }), _jsx(View, {\n              style: {\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 10,\n                justifyContent: \"center\"\n              },\n              children: _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate(\"ForgetPassword\");\n                },\n                children: _jsx(Text, {\n                  size: \"md\",\n                  fontWeight: \"bold\",\n                  children: \"Olvide mi contrase\\xF1a\"\n                })\n              })\n            })]\n          }), _jsxs(View, {\n            style: {\n              display: sesionPreviaVisible\n            },\n            children: [_jsx(Text, {\n              fontWeight: \"bold\",\n              style: {\n                alignSelf: \"center\",\n                padding: 30\n              },\n              size: \"h1\",\n              children: \"\\xA1Has vuelto!\"\n            }), _jsx(Text, {\n              fontWeight: \"bold\",\n              style: {\n                alignSelf: \"center\",\n                padding: 5\n              },\n              size: \"h4\",\n              children: \"Bienvenido devuelta:\"\n            }), _jsx(Text, {\n              fontWeight: \"bold\",\n              style: {\n                alignSelf: \"center\"\n              },\n              size: \"h3\",\n              children: email\n            }), _jsx(Text, {\n              style: {\n                marginTop: 15\n              },\n              children: \"Password\"\n            }), _jsx(TextInput, {\n              containerStyle: {\n                marginTop: 15\n              },\n              placeholder: \"Ingresa tu contrase\\xF1a\",\n              value: password,\n              autoCapitalize: \"none\",\n              autoCompleteType: \"off\",\n              autoCorrect: false,\n              secureTextEntry: true,\n              onChangeText: function onChangeText(text) {\n                return setPassword(text);\n              }\n            }), _jsx(Button, {\n              text: loading ? \"Cargando\" : \"Iniciar sesi√≥n\",\n              onPress: function onPress() {\n                login();\n              },\n              style: {\n                height: 50,\n                margin: \"30%\",\n                marginTop: 10,\n                marginBottom: 10\n              },\n              status: \"info\",\n              disabled: loading\n            }), _jsx(View, {\n              style: {\n                display: fingerprintVisible\n              },\n              children: _jsx(Avatar, {\n                source: {\n                  uri: 'https://www.nicepng.com/png/detail/440-4408167_fingerprint-png-download-png-image-with-transparent-ios.png'\n                },\n                onPress: function _callee() {\n                  var result;\n                  return _regeneratorRuntime.async(function _callee$(_context8) {\n                    while (1) {\n                      switch (_context8.prev = _context8.next) {\n                        case 0:\n                          _context8.next = 2;\n                          return _regeneratorRuntime.awrap(LocalAuthentication.authenticateAsync());\n\n                        case 2:\n                          result = _context8.sent;\n                          console.log(result);\n\n                          if (result.success) {\n                            setPassword(password_temp);\n                            console.log(email + ' ' + password);\n                            loginAlternativo();\n                          }\n\n                        case 5:\n                        case \"end\":\n                          return _context8.stop();\n                      }\n                    }\n                  }, null, null, null, Promise);\n                },\n                containerStyle: {\n                  alignSelf: \"center\"\n                },\n                size: \"large\",\n                rounded: true\n              })\n            }), _jsxs(View, {\n              style: {\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 30,\n                justifyContent: \"center\"\n              },\n              children: [_jsx(Text, {\n                size: \"md\",\n                children: \"\\xBFNo es tu cuenta?\"\n              }), _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  var result_2 = delete_securitykey(secureemail);\n\n                  if (result_2) {\n                    result_2.then(function (espera) {\n                      setSecurityemail(espera);\n                      console.log('delete email' + securityEmail);\n                    });\n                  }\n\n                  var result_3 = delete_securitykey(securePassword);\n\n                  if (result_3) {\n                    result_3.then(function (espera) {\n                      setSecurityemail(espera);\n                      console.log('delete email' + securityEmail);\n                    });\n                  }\n\n                  setEmail('');\n                  setPassword('');\n                  setVisibleFingerprint(\"none\");\n                  change_views();\n                },\n                children: _jsx(Text, {\n                  size: \"md\",\n                  fontWeight: \"bold\",\n                  style: {\n                    marginLeft: 5\n                  },\n                  children: \"Inicia sesi\\xF3n en otra cuenta\"\n                })\n              })]\n            }), _jsx(View, {\n              style: {\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 10,\n                justifyContent: \"center\"\n              }\n            })]\n          }), _jsx(View, {\n            style: {\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              marginTop: 30,\n              justifyContent: \"center\"\n            },\n            children: _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                isDarkmode ? setTheme(\"light\") : setTheme(\"dark\");\n              },\n              children: _jsx(Text, {\n                size: \"md\",\n                fontWeight: \"bold\",\n                style: {\n                  marginLeft: 5\n                },\n                children: isDarkmode ? \"‚òÄÔ∏è Modo brillante\" : \"üåë Modo oscuro\"\n              })\n            })\n          })]\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  alert: {\n    backgroundColor: '#EEEEEE'\n  },\n  icon: {\n    flex: 1,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#C3272B',\n    width: '100%'\n  },\n  container: {\n    paddingTop: 50\n  },\n  stretch: {\n    alignSelf: \"center\"\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: -16,\n    marginBottom: 16\n  },\n  contentText: {\n    textAlign: 'center'\n  },\n  btn: {\n    borderRadius: 32,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    alignSelf: 'stretch',\n    backgroundColor: '#C3272B',\n    marginTop: 16,\n    minWidth: '50%',\n    paddingHorizontal: 16\n  },\n  btnText: {\n    color: '#FFFFFF'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Avatar","supabase","FancyAlert","Layout","Text","TextInput","Button","useTheme","themeColor","Ionicons","SecureStore","LocalAuthentication","navigation","isDarkmode","setTheme","email","setEmail","password_temp","setPasswordtemp","password","setPassword","loading","setLoading","visible","setVisible","error_msg","setError","email_visible","setEmailVisible","sesionPreviaVisible","setSesionPrevVisible","sesionPrevia","setSesionPrevia","secureemail","setsecureemail","securePassword","setSecurePassword","securityEmail","setSecurityemail","securityPassword","setSecurityPassword","resultado","setResultado","fingerprintVisible","setVisibleFingerprint","flagfinger","setflag","toggleAlert","useCallback","check","result","getValueFor","then","espera","console","log","pass","espera_2","change_views","check_fingerprint","cambio","emial_change","sesion_change","fingerprintchange","save","secure_key","secure_string","setItemAsync","getItemAsync","delete_securitykey","deleteItemAsync","hasHardwareAsync","loginAlternativo","auth","signIn","user","error","message","result_2","result_3","login","flex","styles","alert","icon","borderRadius","Platform","select","ios","android","content","contentText","btn","btnText","flexGrow","justifyContent","alignItems","backgroundColor","white100","height","width","require","paddingHorizontal","paddingBottom","dark","white","display","alignSelf","padding","marginTop","text","margin","flexDirection","navigate","marginLeft","marginBottom","uri","authenticateAsync","success","StyleSheet","create","container","paddingTop","stretch","textAlign","paddingVertical","minWidth","color"],"sources":["D:/anahuac/verano/mobile/myapp/MyPet/MyPetApp/src/screens/auth/Login.tsx"],"sourcesContent":["import React, { useEffect,useState } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\n\nimport { Avatar } from 'react-native-elements';\nimport {\n  ScrollView,\n  TouchableOpacity,\n  View,\n  KeyboardAvoidingView,\n  Image,\n} from \"react-native\";\nimport { supabase } from \"../../lib/initSupabase\";\nimport { AuthStackParamList } from \"../../types/navigation\";\nimport { NativeStackScreenProps } from \"@react-navigation/native-stack\";\nimport { FancyAlert } from 'react-native-expo-fancy-alerts';\nimport {\n  Layout,\n  Text,\n  TextInput,\n  Button,\n  useTheme,\n  themeColor,\n} from \"react-native-rapi-ui\";\nimport Swal from 'sweetalert2'\n\nimport { StyleSheet } from \"react-native\";\n\nimport { Ionicons } from '@expo/vector-icons';\n\nimport * as SecureStore from 'expo-secure-store';\n// CommonJS\n\nimport * as LocalAuthentication from 'expo-local-authentication';\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\n\n\ntype state = {\n  compatible: false,\n  fingerprints: false,\n  result: ''\n}\n\n\nexport default function ({\n  navigation,\n}: NativeStackScreenProps<AuthStackParamList, \"Login\">) {\n  const { isDarkmode, setTheme } = useTheme();\n  const [email, setEmail] = useState<string>(\"\");\n  const [password_temp,setPasswordtemp] = useState<String>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [loading, setLoading] = useState<boolean>(false);\n  const [visible, setVisible] = React.useState(false);\n  const [error_msg, setError] = useState<string>(\"\");\n  const [email_visible, setEmailVisible] = useState<string>(\"flex\");\n  const [sesionPreviaVisible, setSesionPrevVisible] = useState<String>(\"none\");\n  const [sesionPrevia, setSesionPrevia] = useState<String>('');\n  const [secureemail, setsecureemail] = useState<String>('securityemail');\n  \n  const [securePassword, setSecurePassword] = useState<String>('securityPassword');\n  const [securityEmail, setSecurityemail] = useState<String>('');\n  const [securityPassword, setSecurityPassword] = useState<String>('');\n  const [resultado, setResultado] = useState<String>('');\n\n  const [fingerprintVisible, setVisibleFingerprint] = useState<String>('none');\n  const [flagfinger, setflag] = useState<boolean>(false);\n\n  const toggleAlert = React.useCallback(() => {\n    setVisible(!\n      visible);\n      \n  }, [visible]);\n\n  useEffect(() => {\n    \n   // console.log('check');\n    check();\n    //console.log('return useEffect' + result);\n  }, []);\n  async function check(){\n    const result = getValueFor(secureemail);\n    if(result){\n      result.then((espera) => {setSecurityemail(espera);\n      console.log('encontrado email' + securityEmail);\n      \n      const pass = getValueFor(securePassword);\n      if(pass){\n        pass.then((espera_2) => {setSecurityPassword(espera_2);\n        console.log('encontrado contrase√±a' + securityPassword);\n        setEmail(espera);\n        setPasswordtemp(espera_2);\n      if(espera != null || espera_2 != null){\n        change_views();\n        check_fingerprint();\n      }\n\n        });\n      }\n\n      });\n    }\n      //setResultado(result);\n     \n  }\n\n  function cambio() {\n    setPassword(password_temp);\n    console.log(email + ' ' + password);\n  }\n\n\n  const emial_change = React.useCallback(() => {\n    if(email_visible == 'flex'){\n      setEmailVisible(\"none\");\n    }\n    else{\n      setEmailVisible(\"flex\");\n    }\n    \n}, [email_visible]);\n\nconst sesion_change = React.useCallback(() => {\n  if(sesionPreviaVisible == 'flex'){\n    setSesionPrevVisible(\"none\");\n  }\n  else{\n    setSesionPrevVisible(\"flex\");\n  }\n  \n}, [sesionPreviaVisible]);\n\nconst fingerprintchange = React.useCallback(() => {\n  if(fingerprintVisible == 'flex'){\n    setVisibleFingerprint(\"none\");\n  }\n  else{\n    setVisibleFingerprint(\"flex\");\n  }\n  \n}, [fingerprintVisible]);\n\nconst change_views = async () => {\n  sesion_change();\n  emial_change();\n  console.log(\"invertir\");\n  \n};\n\nasync function save(secure_key,secure_string) {\n  await SecureStore.setItemAsync(secure_key, secure_string);\n}\n\nasync function getValueFor(secure_key) {\n  console.log('check getValue');\n  const result = await SecureStore.getItemAsync(secure_key);\n  return result;\n}\n\nasync function delete_securitykey(secure_key) {\n  await SecureStore.deleteItemAsync(secure_key);\n}\n\n\nfunction check_fingerprint(){\n  const result = LocalAuthentication.hasHardwareAsync();\n  if(result){\n    result.then((espera) => {\n      setVisibleFingerprint(\"flex\");\n    });\n  }\n\n  \n}\n\nasync function loginAlternativo(){\n\n  console.log('aqui va el alert');\n  setLoading(true);\n  const { user, error } = await supabase.auth.signIn({\n    email: email,\n    password: password_temp,\n  });\n  if (!error && !user) {\n    setLoading(false);\n    setError(\"Se ah enviado tu correo para revision\");\n    toggleAlert();\n   //alert(\"Check your email for the login link!\");\n  }\n  if (error) {\n    setLoading(false);\n  //alert(error.message);\n  \n  setError(error.message);\n  toggleAlert();\n  \n  }\n  //alert(user.message);\n  setError(user.message);\n  toggleAlert();\n  if(user){\n    const result_2 = save(secureemail,email);\n  if(result_2){\n    console.log('save email ' + securityEmail);\n    };\n    \n  const result_3 = save(securePassword,password_temp);\n  if(result_3){\n    console.log('save password ' + securityPassword);\n    };\n    console.log('logeado');\n  }\n}\n  async function login() {\n    console.log('aqui va el alert');\n    setLoading(true);\n    const { user, error } = await supabase.auth.signIn({\n      email: email,\n      password: password,\n    });\n    if (!error && !user) {\n      setLoading(false);\n      setError(\"Se ah enviado tu correo para revision\");\n      toggleAlert();\n     //alert(\"Check your email for the login link!\");\n    }\n    if (error) {\n      setLoading(false);\n    //alert(error.message);\n    \n    setError(error.message);\n    toggleAlert();\n    \n    }\n    //alert(user.message);\n    setError(user.message);\n    toggleAlert();\n    if(user){\n      const result_2 = save(secureemail,email);\n    if(result_2){\n      console.log('save email ' + securityEmail);\n      };\n      \n    const result_3 = save(securePassword,password);\n    if(result_3){\n      console.log('save password ' + securityPassword);\n      };\n      console.log('logeado');\n    }\n}\n  return (\n<KeyboardAvoidingView behavior=\"height\" enabled style={{ flex: 1 }}>\n      <Layout>\n      <FancyAlert\n  visible={visible}\n      style={styles.alert}\n      icon={\n        <View style={[ styles.icon, { borderRadius: 32 } ]}>\n          \n          <Ionicons\n            name={Platform.select({ ios: 'ios-close', android: 'md-close' })}\n            size={36}\n            color=\"#FFFFFF\"\n          />\n        </View>\n      } \n    >\n      <View style={styles.content}>\n        <Text style={styles.contentText}>{error_msg}</Text>\n  \n        <TouchableOpacity style={styles.btn} onPress={toggleAlert}>\n          <Text style={styles.btnText}>OK</Text>\n        </TouchableOpacity>\n      </View>\n    </FancyAlert>\n        <ScrollView\n          contentContainerStyle={{\n            flexGrow: 1,\n          }}\n        >\n          <View\n            style={{\n              flex: 1,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              backgroundColor: isDarkmode ? \"#17171E\" : themeColor.white100,\n            }}\n          >\n            <Image\n              //resizeMode=\"center\"\n              style={{\n                height: 200,\n                width: 400,\n              }}\n              source={require(\"../../../assets/images/login.jpg\")}\n            />\n          </View>\n          <View\n            style={{\n              flex: 3,\n              paddingHorizontal: 20,\n              paddingBottom: 20,\n              backgroundColor: isDarkmode ? themeColor.dark : themeColor.white,\n            }}\n          >\n            \n            <View style={{display: email_visible}}> \n            <Text\n              fontWeight=\"bold\"\n              style={{\n                alignSelf: \"center\",\n                padding: 30,\n              }}\n              size=\"h1\"\n            >\n              ¬°Hola!\n            </Text>\n\n            <Text\n              fontWeight=\"bold\"\n              style={{\n                alignSelf: \"center\",\n                padding: 30,\n              }}\n              size=\"h4\"\n            >\n              Bienvenido a MyPet\n            </Text>\n\n            <Text>Email</Text>\n            <TextInput\n              containerStyle={{ marginTop: 15 }}\n              placeholder=\"ejemplo@correo.com\"\n              value={email}\n              autoCapitalize=\"none\"\n              autoCompleteType=\"off\"\n              autoCorrect={false}\n              keyboardType=\"email-address\"\n              onChangeText={(text) => setEmail(text)}\n            />\n\n<Text style={{ marginTop: 15 }}>Password</Text>\n            <TextInput\n              containerStyle={{ marginTop: 15 }}\n              placeholder=\"Ingresa tu contrase√±a\"\n              value={password}\n              autoCapitalize=\"none\"\n              autoCompleteType=\"off\"\n              autoCorrect={false}\n              secureTextEntry={true}\n              onChangeText={(text) => setPassword(text)}\n            />\n            <Button\n              text={loading ? \"Cargando\" : \"Iniciar sesi√≥n\"}\n              onPress={ () => {\n                 login();\n              }}\n              style={{\n                marginTop: 20,\n                height: 50,\n                margin: \"30%\",\n              }}\n              status=\"info\"\n              disabled={loading}\n            />\n\n            <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: -30,\n                justifyContent: \"center\",\n              }}\n            >\n              <Text size=\"md\">¬øNo tienes cuenta?</Text>\n              <TouchableOpacity\n                onPress={() => {\n                  navigation.navigate(\"Register\");\n                }}\n              >\n                <Text\n                  size=\"md\"\n                  fontWeight=\"bold\"\n                  style={{\n                    marginLeft: 5,\n                  }}\n                >\n                  Registrate aqu√≠\n                </Text>\n              </TouchableOpacity>\n              \n            </View>\n                        <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 10,\n                justifyContent: \"center\",\n              }}\n            >\n              <TouchableOpacity\n                onPress={() => {\n                  navigation.navigate(\"ForgetPassword\");\n                }}\n              >\n                <Text size=\"md\" fontWeight=\"bold\">\n                  Olvide mi contrase√±a\n                </Text>\n              </TouchableOpacity>\n            </View>\n            </View>\n            <View style={{display: sesionPreviaVisible}}> \n            <Text\n              fontWeight=\"bold\"\n              style={{\n                alignSelf: \"center\",\n                padding: 30,\n              }}\n              size=\"h1\"\n            >\n              ¬°Has vuelto!\n            </Text>\n\n            <Text\n              fontWeight=\"bold\"\n              style={{\n                alignSelf: \"center\",\n                padding: 5,\n              }}\n              size=\"h4\"\n            >\n              Bienvenido devuelta: \n            </Text>\n\n            <Text\n              fontWeight=\"bold\"\n              style={{\n                alignSelf: \"center\",\n              }}\n              size=\"h3\"\n            >\n              {email}\n            </Text>\n            \n            <Text style={{ marginTop: 15 }}>Password</Text>\n            <TextInput\n              containerStyle={{ marginTop: 15 }}\n              placeholder=\"Ingresa tu contrase√±a\"\n              value={password}\n              autoCapitalize=\"none\"\n              autoCompleteType=\"off\"\n              autoCorrect={false}\n              secureTextEntry={true}\n              onChangeText={(text) => setPassword(text)}\n            />\n            \n            <Button\n              text={loading ? \"Cargando\" : \"Iniciar sesi√≥n\"}\n              onPress={ () => {\n                 login();\n              }}\n              style={{\n                height: 50,\n                margin: \"30%\",\n                marginTop: 10,\n                marginBottom: 10\n              }}\n              status=\"info\"\n              disabled={loading}\n            />\n            \n            <View style={{display: fingerprintVisible}}>\n            <Avatar\n  source={{\n    uri:\n      'https://www.nicepng.com/png/detail/440-4408167_fingerprint-png-download-png-image-with-transparent-ios.png',\n  }}\n  \n  onPress={async () => {\n    \n//   if(flagfinger == true){\n//     setPassword(password_temp);\n//     setflag(false);\n// login();\n\n//   }\n    const result = await LocalAuthentication.authenticateAsync();\n    console.log(result);\n    if (result.success) {\n      setPassword(password_temp);\n      console.log(email + ' ' + password);\n      loginAlternativo();\n    }\n  // if(result){\n  //   result.then((espera) => {\n  //     console.log(espera);\n  //     if(espera.success == true){\n  //       //cambio();\n  //       console.log(email + ' ' + password);\n  //       setflag(true);\n  //       //\n  //     }\n  //   });\n  // }\n\n  }}\n  containerStyle={{alignSelf: \"center\",}}\n  \n  size=\"large\"\n  \n  rounded\n/>\n            </View>\n            <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 30,\n                justifyContent: \"center\",\n              }}\n            >\n              <Text size=\"md\">¬øNo es tu cuenta?</Text>\n              <TouchableOpacity\n                onPress={() => {\n                  const result_2 = delete_securitykey(secureemail);\n    if(result_2){\n      result_2.then((espera) => {setSecurityemail(espera);\n      console.log('delete email' + securityEmail);\n      });\n    }\n    const result_3 = delete_securitykey(securePassword);\n    if(result_3){\n      result_3.then((espera) => {setSecurityemail(espera);\n      console.log('delete email' + securityEmail);\n      });\n    }\n    setEmail('');\n    setPassword('');\n    setVisibleFingerprint(\"none\");\n                  change_views();\n                }}\n              >\n                <Text\n                  size=\"md\"\n                  fontWeight=\"bold\"\n                  style={{\n                    marginLeft: 5,\n                  }}\n                >\n                  Inicia sesi√≥n en otra cuenta\n                </Text>\n              </TouchableOpacity>\n            </View>\n                        <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 10,\n                justifyContent: \"center\",\n              }}\n            >\n            </View>\n            </View>\n\n            \n\n            <View\n              style={{\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginTop: 30,\n                justifyContent: \"center\",\n              }}\n            >\n              <TouchableOpacity\n                onPress={() => {\n                  isDarkmode ? setTheme(\"light\") : setTheme(\"dark\");\n                }}\n              >\n                <Text\n                  size=\"md\"\n                  fontWeight=\"bold\"\n                  style={{\n                    marginLeft: 5,\n                  }}\n                >\n                  {isDarkmode ? \"‚òÄÔ∏è Modo brillante\" : \"üåë Modo oscuro\"}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </ScrollView>\n      </Layout>\n    </KeyboardAvoidingView>\n  );\n}\nconst styles = StyleSheet.create({\n  alert: {\n    backgroundColor: '#EEEEEE',\n  },\n  icon: {\n    flex: 1,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#C3272B',\n    width: '100%',\n  },\n    container: {\n      paddingTop: 50,\n    },\n    stretch: {\n      alignSelf: \"center\",\n    },\n  content: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: -16,\n    marginBottom: 16,\n  },\n  contentText: {\n    textAlign: 'center',\n  },\n  btn: {\n    borderRadius: 32,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    alignSelf: 'stretch',\n    backgroundColor: '#C3272B',\n    marginTop: 16,\n    minWidth: '50%',\n    paddingHorizontal: 16,\n  },\n  btnText: {\n    color: '#FFFFFF',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}